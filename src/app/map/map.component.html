<h1 style="text-align: center"><u>Map Markers</u></h1>
<button mat-fab class="pin-box" color="warn" (click)="helpBox()">Help</button>
<button mat-fab class="pin-box" color="primary" (click)="haveBox()">Have</button>
<br><br>
<div class="map-full-card-content">
  <agm-map
    #gm
    [gestureHandling]="cooperative"
    [scrollwheel]="null"
    [streetViewControl]="false"
    [latitude]="lat"
    [longitude]="lng"
    [zoom]="zoom"
  >
    <div *ngFor="let m of markers;let i = index">
      <agm-marker
        *ngIf="m.help"
        [latitude]="m.latitude"
        [longitude]="m.longitude"
        [iconUrl]="helpUrl"
        (markerClick)="gm.lastOpen?.close(); gm.lastOpen = infoWindow"
      >
        <agm-info-window #infoWindow>
          <div>
            <strong>Help</strong>
          </div>
          {{m.message}}
          <br>
          <i>Address: </i> {{m.address}}
          <br>
          <i>Created: </i> {{m.createdAt}}
          <br>
        </agm-info-window>
      </agm-marker>

      <agm-marker
        *ngIf="m.have"
        [latitude]="m.latitude"
        [longitude]="m.longitude"
        [iconUrl]="haveUrl"
        (markerClick)="gm.lastOpen?.close(); gm.lastOpen = infoWindow"
      >
        <agm-info-window #infoWindow>
          <div>
            <strong>Have</strong>
          </div>
          {{m.message}}
          <br>
          <i>Address: </i> {{m.address}}
          <br>
          <i>Created: </i> {{m.createdAt}}
          <br>
        </agm-info-window>
      </agm-marker>
    </div>
  </agm-map>
</div>
