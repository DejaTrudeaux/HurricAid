<h1>Map Markers</h1>

<agm-map
  [latitude]="lat"
  [longitude]="lng"
  [zoom]="zoom"
>
  <agm-marker
    *ngFor="let m of markers;let i = index"
    [latitude]="m.lat"
    [longitude]="m.lng"
  >
    <agm-info-window>
      <strong>{{m.message}}</strong>
      <br>
      <i>Address:</i> {{m.address}}
    </agm-info-window>
  </agm-marker>
</agm-map>
<div class="container">
  <div class="row">
    <div class="col-md-8 offset-md-2">
      <form name="form" onSubmit="return false" #f="ngForm" novalidate>
        <h2>Pin It Up</h2>

        <h3>Where are you?</h3>
        <mat-radio-button class="addressField" (click)="hideAddressField()">Saved Address</mat-radio-button><br>

        <mat-radio-button class="addressField" (click)="showAddressField()">Other Address</mat-radio-button>
          <br>
        <div *ngIf="addressField" class="address-input">
          <mat-form-field>
            <input matInput name="other-address" [(ngModel)]="model.address" placeholder="Address">
          </mat-form-field>
        </div>

        <h4>Do you need help or wanting to help?</h4>
        <mat-checkbox name="helper" (click)="toggleHelp()"> Help me!</mat-checkbox><br>
        <div *ngIf="help" class="pin-input">
          <mat-form-field>
            <input matInput name="message" matInput #message maxlength="255" [(ngModel)]="model.message" placeholder="Message (Optional)">
            <mat-hint align="end">{{message.value.length}} / 255</mat-hint>
          </mat-form-field>
          <button mat-flat-button color="primary" (click)="setMsgAddress()">Create Pin</button>
        </div>

        <mat-checkbox name="haver" (click)="toggleHave()"> Offer amenities</mat-checkbox>
        <div *ngIf="have" class="pin-input">
          <mat-checkbox name="food" (click)="toggleFood()">Food</mat-checkbox><br>
          <mat-checkbox name="water" (click)="toggleWater()">Water</mat-checkbox><br>
          <mat-checkbox name="shelter" (click)="toggleShelter()">Shelter</mat-checkbox><br>
          <mat-checkbox name="other" (click)="toggleOther()">Other</mat-checkbox><br>
          <mat-form-field>
            <input matInput name="message-other" matInput #message maxlength="255" [(ngModel)]="model.message_other" placeholder="Other Ammenities">
            <mat-hint align="end">{{message.value.length}} / 255</mat-hint>
          </mat-form-field>
          <mat-form-field>
            <input matInput name="message" matInput #message maxlength="255" [(ngModel)]="model.message" placeholder="Message (Optional)">
            <mat-hint align="end">{{message.value.length}} / 255</mat-hint>
          </mat-form-field>
          <button mat-flat-button color="primary" (click)="setMsgAddress()">Create Pin</button>
        </div>
      </form>
    </div>
  </div>
</div>
